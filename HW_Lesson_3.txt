Бирченко А.Р.

1. Управление пользователями:

a) создать пользователя user1, указав shell /bin/bash и создав домашний каталог, используя утилиту useradd; 
   
   sudo useradd -m -s /bin/bash user1

   --> useradd (добавление пользователя)
   --> -m (с домашним каталогом)
   --> -s /bin/bash (указываем shell /bin/bash) 
   --> user1 (имя пользователя)

b) создать пользователя user2, указав shell /bin/bash и создав домашний каталог, используя утилиту используя утилиту adduser;
   
   sudo adduser user2

   --> автоматически создает домашний каталог и shell /bin/bash тоже по умолчанию...

c) удалить пользователя user1 вместе с домашним каталогом, используя утилиту userdel;
   
   sudo userdel -r user1

   --> -r (удаляем вместе с домашним каталогом и файлами пользователя)

d) создать пользователя user1, указав основную группу user2
   
   sudo useradd -m -s /bin/bash -G user2 user1

   --> -g user 2 (добавление в основную группу user2, -G добавит в доп. группы)

d) сменить пароль user1 одного из созданных пользователей, используя passwd

   sudo passwd user1

e) сменить пароль user2 одного из созданных пользователей, используя usermod
   
   sudo usermod -p $(openssl passwd 1111) user2

   --> $(openssl passwd 1111) генерация шифрованного пароля (берем 1111, шифруем, записываем как пароль)

--------------------------------------------------------------------------------------------------------------------------------

2. Управление группами:

a) создать группы group1, group2 с использованием groupadd; 
   
   sudo groupadd group1
   sudo groupadd group2

b) добавить user1 в группы group1, group2 разом при помощи одной команды usermod, не меняя его основной группы;
   
   sudo usermod -aG group1,group2 user1

   --> -a (добавить пользователя в дополнительные ГРУППЫ, указанные в параметре -G не удаляя пользователя из других групп)
   --> -G (список дополнительных групп)

с) создать группу user1 с GID=1516 и сделать ее основной для пользователя user1
   
   sudo groupadd -g 1516 user1

   --> -g (для новой группы использовать указанный GID)

   sudo usermod -g user1 user1

   --> -g (принудительно назначить первичную группу)

--------------------------------------------------------------------------------------------------------------------------------

3. Создать пользователя с правами суперпользователя. Сделать так, чтобы sudo не требовал пароль для выполнения команд.
   
   sudo useradd -m -s /bin/bash -ou 0 -g 0 mysuperuser (назначаем ему тот же ID пользователя, что у root (UID 0) и тот же ID группы ( GID 0))
   sudo passwd mysuperuser (устанавливаем пароль)

   ВОПРОС: достаточно ли будет только группы GID 0?

   !!! так делать неправильно, тк такой вариант создает НЕ нового пользователя, а делает ссылку на существующего. Могут возникнуть проблемы с безопасностью и прочим.

   Надо делать так:
   sudo useradd -m -s /bin/bash -G sudo -o mysuperuser_right
   
   --> -G sudo (помещаем пользователя в второстепенную группу sudo)
   
   sudo visudo (открываем файл-конфиг)
   и внизу добавляем 
   mysuperuser ALL=(ALL:ALL) NOPASSWD: ALL
   сохраняем и выходим(:wq)


4. * Используя дополнительные материалы, выдать одному из созданных пользователей право на выполнение ряда команд, требующих прав суперпользователя (команды выбираем на своё усмотрение).

